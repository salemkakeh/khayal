<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- normalize css file -->
  <link rel="stylesheet" href="layout/css/normalize.css">

  <!-- box icons file -->
  <link rel="stylesheet" href="layout/icons/boxicons-master/css/boxicons.min.css">

  <!-- fonts google -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700;800&display=swap" rel="stylesheet">

  <!-- gloabel file -->
  <link rel="stylesheet" href="layout/css/gloabel.css">

  <!-- main file css -->
  <link rel="stylesheet" href="layout/css/details.css">

  <link rel="stylesheet" href="layout/css/header.css">

  <link rel="stylesheet" href="layout/css/footer.css">


  <title>Khayal</title>
</head>

<body>

  <header>
    <div class="container">

      <input type="checkbox" id="list-2" checked>
      <label for="list-2" class="menu-button">
        <i class='bx bx-menu'></i>

      </label>

      <aside>
        <ul>
          <li>
            <a href="#" class="bg-color">
              تسجيل الدخول
            </a>
          </li>
          <li>
            <a href="#">
              الصفحة الرئيسية
            </a>
          </li>
          <li class="act">
            <input type="checkbox" name="" id="c">

            <label for="c">
              المنتجات
              <i class='bx bx-chevron-left bx-rotate-90'></i>
            </label>
            <ul>
              <li><a href="#">الأكثر مبيعاً</a></li>
              <li><a href="#">البسة القفطان</a></li>
              <li><a href="#">الالبسة الرجالية</a></li>
              <li><a href="#">الالبسة النسائية</a></li>
            </ul>
          </li>
        </ul>

        <button>
          تسجيل خروج
        </button>

      </aside>

      <ul>
        <li>
          <a href="#" class="bg-color">
            تسجيل الدخول
          </a>
        </li>
        <li>
          <a href="#">
            الصفحة الرئيسية
          </a>
        </li>
        <li class="active-nav">
          <a href="#">
            المنتجات
          </a>
          <ul>
            <li><a href="#">الأكثر مبيعاً</a></li>
            <li><a href="#">البسة القفطان</a></li>
            <li><a href="#">الالبسة الرجالية</a></li>
            <li><a href="#">الالبسة النسائية</a></li>
          </ul>
        </li>
      </ul>


      <a href="index.html" class="logo">
        <img src="layout/images/SVG/logo.svg" alt="logo is hear">
        <h2>Khayal</h2>
      </a>
    </div>
  </header>



  <section class="details">
    <div class="container">
      <h1>تفاصيل المنتج</h1>
      <div class="details-real">

        <table>
          <tr>
            <th>الألوان المتوفر : </th>
            <td>
            </td>
          </tr>
          <tr>
            <th> المقاسات المتوفرة :</th>
            <td>
            </td>
          </tr>
          <tr>
            <th>نوعية القماش :</th>
            <td>

            </td>
          </tr>

          <tr>
            <th>السعر :</th>
            <td>
            </td>
          </tr>

          <tr>
            <th>
              <button id="save">اضافة الى السلة</button>
            </th>
            
          </tr>
          
        </table>

        <div class="text" id="text">
          <p>تمت الاضافة بنجاح</p>
        </div>

        <div class="images-buttons">
          <button class="left-button" id="left">
            <i class='bx bx-chevrons-right' id="left_icon"></i>
          </button>
          <div class="images" id="images-slider">
            <img src="layout/images/123/img-man (10).jpeg" alt="">
            <img src="layout/images/123/img-man (11).jpeg" alt="">
            <img src="layout/images/123/img-man (12).jpeg" alt="">
          </div>
          <button class="right-button" id="right">
            <i class='bx bx-chevron-right' id="right_icon"></i>
          </button>
        </div>
      </div>
    </div>
  </section>



  <footer>
    <div class="container">
      <div class="cont">
        <div class="left">

          <img src="layout/images/SVG/logo.svg" alt="">
          <h1>Khayal</h1>

        </div>
        <div class="right">
          <div class="social">
            <h1>تواصل معنا </h1>
            <div class="icon">

              <a href="#"><i class='bx bxl-facebook-circle '> فيس بوك</i></a>
              <a href="#"><i class='bx bxl-whatsapp'> واتس اب</i></a>
              <a href="#"><i class='bx bxl-instagram-alt'> انستغرام </i></a>
            </div>
          </div>
          <div>
            <div class="d-web">
              <h1>دليل الموقع </h1>
              <div class="list-footer">
                <a href="pages/login.html">تسجيل دخول</a>
                <a href="./pages/book.html">حجوزاتي</a>
                <a href="./pages/flights.html">الرحلات</a>
                <a href="./pages/offers.html">العروض</a>
              </div>

            </div>
          </div>


        </div>
      </div>
    </div>
  </footer>


  <script>
    const slider = document.getElementById("images-slider");
    const maxwidth = slider.scrollWidth - slider.clientWidth;
    const left = document.getElementById("left");
    const right = document.getElementById("right");
    const right_icon = document.getElementById("right_icon");
    const left_icon = document.getElementById("left_icon");
    left.addEventListener("click", () => {
      const scrollAmount = (slider.clientWidth + 5) * -1;
      slider.scrollBy({ left: scrollAmount, behavior: "smooth" });
      if (slider.scrollLeft <= 0) {
        slider.scrollTo({ left: maxwidth, behavior: "smooth" });
      }
    });
    right.addEventListener("click", () => {
      const scrollAmount = (slider.clientWidth + 5) * 1;
      slider.scrollBy({ left: scrollAmount, behavior: "smooth" });
      if (slider.scrollLeft >= maxwidth - 50) {
        slider.scrollTo({ left: 0, behavior: "smooth" });
      }
    });
    slider.addEventListener("scroll", () => {
      if (slider.scrollLeft >= maxwidth - 150) {
        right_icon.classList.remove("bx-chevron-left");
        right_icon.classList.add("bx-chevrons-left");
      } else {
        right_icon.classList.add("bx-chevron-left");
        right_icon.classList.remove("bx-chevrons-left");
      }
      if (slider.scrollLeft <= 50) {
        left_icon.classList.add("bx-chevrons-right");
        left_icon.classList.remove("bx-chevron-left");
      } else {
        left_icon.classList.remove("bx-chevrons-right");
        left_icon.classList.add("bx-chevron-left");
      }
    })



    // Start star button

    var urlParams = new URLSearchParams(window.location.search);
    var id_real = urlParams.get('id_r');



    const star = document.getElementById("star");
    const span = document.getElementById("span");
    const window1 = document.getElementById("window");
    const windowRegin = document.getElementById("windowRegin");
    const firstStar = document.getElementById("firstStar");
    const inp_hidden = document.getElementById("inp-hidden").value;
    var i;
    if (inp_hidden == 1) {
      console.log("true");
      i = 1;
    } else if (inp_hidden == 0) {
      console.log("false");
      i = 0;
    }
    star.addEventListener("click", () => {
      if (i == 1) {
        firstStar.style.visibility = "hidden";
        windowRegin.style.bottom = 10 + "px";
        span.innerHTML = "حفظ";


        function salem() {
          var myRequest = new XMLHttpRequest();
          myRequest.onreadystatechange = function () {
            if (this.readyState === 4 && this.status === 200) {
              if (this.responseText == "true") {

                star.disabled = true;// لإيقاف عمل الزر عند اظهار الرسالة
                setTimeout(() => {
                  star.removeAttribute("disabled");
                  windowRegin.style.bottom = -90 + "px";
                }, 2000);
                i = 0;

              }
            }
          };
          myRequest.open("GET", 'save.php?id_real=' + id_real + '&s=0', true);
          myRequest.send();
        }
        salem();


      } else {
        firstStar.style.visibility = "visible";
        window1.style.bottom = 10 + "px";
        star.disabled = true;
        span.innerHTML = "تم الحفظ";

        function salem() {
          var myRequest = new XMLHttpRequest();
          myRequest.onreadystatechange = function () {
            if (this.readyState === 4 && this.status === 200) {
              if (this.responseText == "true") {

                setTimeout(() => {
                  star.removeAttribute("disabled");
                  window1.style.bottom = -90 + "px";
                }, 2000);
                i = 1;

              }
            }
          };
          myRequest.open("GET", 'save.php?id_real=' + id_real + '&s=1', true);
          myRequest.send();
        }
        salem();
      }
    })
    // End star button

  </script>

  <script src="layout/js/index.js"></script>

</body>

</html>